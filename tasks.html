<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tasks ‚Äî TechQuest.AI</title>
    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <div class="container">
        <nav class="nav">
            <a href="index.html">Home</a>
            <a href="blog/index.html">Blog</a>
            <a href="reviews/index.html">Reviews</a>
            <a href="resources.html">Resources</a>
            <a href="kai-corner.html">Ty's Corner</a>
            <a href="tasks.html" class="active">Tasks</a>
        </nav>

        <header style="margin-bottom: var(--space-12);">
            <div class="status-pill">Backlog & Focus</div>
            <h1 class="logo-title">Project Tasks</h1>
            <p class="tagline-sub">What we're working on. Added by Rob or suggested by KAI.</p>
        </header>

        <main class="bento-grid">
            <!-- Input Card -->
            <section class="bento-card" style="grid-column: span 12;">
                <div style="display: flex; gap: var(--space-3); flex-wrap: wrap;">
                    <select id="taskSource"
                        style="background: var(--color-bg); color: #fff; border: 1px solid var(--color-border); padding: var(--space-2); border-radius: var(--radius-sm); font-size: var(--text-sm);">
                        <option value="rob">Rob's</option>
                        <option value="kai">KAI's</option>
                        <option value="backlog">Backlog</option>
                    </select>
                    <input type="text" id="taskInput" placeholder="Add a new task..."
                        style="flex: 1; min-width: 200px; background: var(--color-bg); color: #fff; border: 1px solid var(--color-border); padding: var(--space-2) var(--space-4); border-radius: var(--radius-sm); font-size: var(--text-sm);">
                    <button onclick="addTask()"
                        style="background: var(--color-primary); color: white; border: none; padding: var(--space-2) var(--space-8); border-radius: var(--radius-sm); font-weight: 600; cursor: pointer;">Add
                        Task</button>
                </div>
                <div
                    style="display: flex; gap: var(--space-6); margin-top: var(--space-4); font-size: var(--text-xs); color: var(--color-text-subtle); font-weight: 600; text-transform: uppercase;">
                    <span><strong id="totalCount" style="color: #fff;">0</strong> Total</span>
                    <span><strong id="pendingCount" style="color: #fff;">0</strong> Pending</span>
                    <span><strong id="completedCount" style="color: #fff;">0</strong> Done</span>
                </div>
            </section>

            <!-- Task List Card -->
            <section class="bento-card" style="grid-column: span 12;">
                <ul id="taskList" style="list-style: none;"></ul>
                <div id="emptyState"
                    style="text-align: center; padding: var(--space-12); color: var(--color-text-subtle);">
                    <div style="font-size: var(--text-4xl); margin-bottom: var(--space-4);">üìë</div>
                    <p>The board is clear. Time to tinker.</p>
                </div>
                <button class="clear-completed" onclick="clearCompleted()" id="clearBtn"
                    style="display: none; background: none; border: none; color: var(--color-primary); font-weight: 600; cursor: pointer; font-size: var(--text-sm); margin-top: var(--space-6);">Clear
                    completed tasks</button>
            </section>
        </main>

        <footer style="text-align: center; margin-top: var(--space-12);">
            <a href="index.html"
                style="color: var(--color-text-muted); text-decoration: none; font-size: var(--text-sm);">‚Üê Back to
                HQ</a>
        </footer>
    </div>

    <script>
        let tasks = JSON.parse(localStorage.getItem('techquest-tasks') || '[]');
        function saveTasks() { localStorage.setItem('techquest-tasks', JSON.stringify(tasks)); renderTasks(); }
        function addTask() {
            const text = document.getElementById('taskInput').value.trim();
            const source = document.getElementById('taskSource').value;
            if (text) {
                tasks.unshift({ id: Date.now(), text, source, completed: false, createdAt: new Date().toISOString() });
                document.getElementById('taskInput').value = '';
                saveTasks();
            }
        }
        function toggleTask(id) { const task = tasks.find(t => t.id === id); if (task) { task.completed = !task.completed; saveTasks(); } }
        function deleteTask(id) { tasks = tasks.filter(t => t.id !== id); saveTasks(); }
        function clearCompleted() { tasks = tasks.filter(t => !t.completed); saveTasks(); }
        function renderTasks() {
            const list = document.getElementById('taskList');
            const total = tasks.length;
            const completed = tasks.filter(t => t.completed).length;
            document.getElementById('totalCount').textContent = total;
            document.getElementById('pendingCount').textContent = total - completed;
            document.getElementById('completedCount').textContent = completed;
            document.getElementById('emptyState').style.display = total === 0 ? 'block' : 'none';
            document.getElementById('clearBtn').style.display = completed > 0 ? 'block' : 'none';
            list.innerHTML = tasks.map(t => `
        <li style="background: rgba(255,255,255,0.02); border: 1px solid var(--color-border); padding: var(--space-4); border-radius: var(--radius-sm); margin-bottom: var(--space-3); display: flex; align-items: flex-start; gap: var(--space-4); ${t.completed ? 'opacity: 0.4' : ''}">
          <input type="checkbox" ${t.completed ? 'checked' : ''} onclick="toggleTask(${t.id})" style="margin-top: 5px;">
          <div style="flex: 1;">
            <div style="${t.completed ? 'text-decoration: line-through' : ''}; font-weight: 500; color: #fff;">${t.text}</div>
            <div style="font-size: var(--text-xs); color: var(--color-text-subtle); margin-top: var(--space-1); text-transform: uppercase; font-weight: 600;">
              ${t.source} ‚Ä¢ ${new Date(t.createdAt).toLocaleDateString()}
            </div>
          </div>
          <button onclick="deleteTask(${t.id})" style="background: none; border: none; color: var(--color-text-subtle); cursor: pointer; font-size: var(--text-xs);">‚úï</button>
        </li>
      `).join('');
        }
        document.getElementById('taskInput').addEventListener('keypress', e => e.key === 'Enter' && addTask());
        renderTasks();
    </script>
</body>

</html>